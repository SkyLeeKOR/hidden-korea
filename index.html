<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hidden Korea - Travel Guide</title>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

    <style>
        /* [ê¸°ë³¸ ì„¤ì •] */
        :root { --bg-color: #f8f9fa; --primary: #222; --accent: #d32f2f; }
        body { font-family: 'Apple SD Gothic Neo', sans-serif; background-color: var(--bg-color); margin: 0; color: var(--primary); transition: background-color 0.5s; }
        .app-container { width: 90%; max-width: 1200px; margin: 0 auto; min-height: 100vh; display: flex; flex-direction: column; position: relative; }
        .screen { padding: 40px 0; flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .hidden { display: none !important; }

        /* [ë²„íŠ¼ & UI] */
        .lang-bar { position: absolute; top: 20px; right: 0; z-index: 10; }
        .lang-btn { background: white; border: 1px solid #ddd; border-radius: 20px; padding: 8px 16px; font-size: 14px; cursor: pointer; font-weight: bold; color: #777; transition: 0.2s; }
        .lang-btn.active { background: #333; color: white; border-color: #333; }
        .btn-main { padding: 18px 50px; background: #111; color: white; border: none; border-radius: 100px; font-size: 1.4rem; font-weight: bold; cursor: pointer; transition: 0.2s; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .btn-main:hover { transform: translateY(-3px); }

        .header-title { font-size: 2.5rem; font-weight: 800; margin: 0; text-align: center; color: #111;}
        .header-sub { font-size: 1.2rem; color: #666; margin-top: 10px; text-align: center; margin-bottom: 40px;}

        /* [ì§ì—… ì„ íƒ ê·¸ë¦¬ë“œ] */
        .grid-box { display: grid; width: 100%; gap: 25px; grid-template-columns: repeat(3, 1fr); }
        .card { background: white; border-radius: 20px; padding: 40px 20px; text-align: center; cursor: pointer; transition: 0.3s; box-shadow: 0 4px 15px rgba(0,0,0,0.08); border: 1px solid transparent; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 220px; }
        .card:hover { transform: translateY(-10px); box-shadow: 0 15px 30px rgba(0,0,0,0.15); border-color: var(--accent); }
        .card-icon { font-size: 50px; margin-bottom: 20px; }
        .card-title { font-size: 1.5rem; font-weight: 800; margin-bottom: 10px; color: #333; }
        .card-desc { font-size: 1rem; color: #888; }

        /* [NEW! ë¦¬ì–¼ SVG ì§€ë„ ìŠ¤íƒ€ì¼] */
        .korea-svg-container {
            width: 100%;
            max-width: 550px; /* ì§€ë„ í¬ê¸° ì¡°ì ˆ */
            margin-bottom: 30px;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.15)); /* ì „ì²´ ì§€ë„ ê·¸ë¦¼ì */
        }
        
        /* ê° ì§€ì—­(path) ê³µí†µ ìŠ¤íƒ€ì¼ */
        .map-region {
            stroke: #fff; /* í°ìƒ‰ í…Œë‘ë¦¬ */
            stroke-width: 2px;
            stroke-linejoin: round;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            cursor: pointer;
        }

        /* í˜¸ë²„ íš¨ê³¼: ìƒ‰ìƒ ë³€ê²½ + íŠ€ì–´ì˜¤ë¦„ + ê·¸ë¦¼ì */
        .map-region:hover {
            fill: var(--accent) !important; /* ì§ì—… í…Œë§ˆìƒ‰ìœ¼ë¡œ ë³€ê²½ */
            transform: translateY(-5px) scale(1.02); /* ì‚´ì§ ìœ„ë¡œ ì»¤ì§€ë©° ì´ë™ */
            filter: drop-shadow(0 5px 15px rgba(0,0,0,0.3));
            z-index: 10;
        }

        /* ì§€ì—­ë³„ ê³ ìœ  ìƒ‰ìƒ (ìš”ì²­í•˜ì‹  ì§€ë„ ëŠë‚Œ ë°˜ì˜) */
        .fill-gw { fill: #76c7c0; } /* ê°•ì› - ì²­ë¡ */
        .fill-gg { fill: #a569bd; } /* ê²½ê¸° - ë³´ë¼ */
        .fill-se { fill: #34495e; stroke-width: 3px; z-index: 5; } /* ì„œìš¸ - ì§„í•œ ë‚¨ìƒ‰ (ê°•ì¡°) */
        .fill-cn { fill: #f39c12; } /* ì¶©ë‚¨ - ì£¼í™© */
        .fill-cb { fill: #f1c40f; } /* ì¶©ë¶ - ë…¸ë‘ */
        .fill-gb { fill: #8e44ad; } /* ê²½ë¶ - ì§„ë³´ë¼ */
        .fill-gn { fill: #e74c3c; } /* ê²½ë‚¨ - ë¹¨ê°• */
        .fill-jb { fill: #d35400; } /* ì „ë¶ - ì§„ì£¼í™© */
        .fill-jn { fill: #c0392b; } /* ì „ë‚¨ - ì§„ë¹¨ê°• */
        .fill-bs { fill: #2980b9; } /* ë¶€ì‚° - íŒŒë‘ */
        .fill-jj { fill: #1abc9c; } /* ì œì£¼ - ë¯¼íŠ¸ */

        
        /* [ìƒì„¸ í˜ì´ì§€] */
        .detail-container { width: 100%; max-width: 800px; display: flex; flex-direction: column; align-items: center; }
        .detail-header-img { width: 100%; height: 350px; object-fit: cover; border-radius: 25px; margin-bottom: 30px; box-shadow: 0 10px 25px rgba(0,0,0,0.15); background-color: #eee; }
        .info-section { background: white; border-radius: 20px; padding: 30px; width: 100%; box-sizing: border-box; margin-bottom: 25px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); border-top: 5px solid var(--accent); }
        .info-title { font-size: 1.4rem; font-weight: bold; margin-bottom: 20px; border-bottom: 2px solid #f0f0f0; padding-bottom: 15px; color: #333; }
        .info-row { display: flex; justify-content: space-between; margin-bottom: 15px; font-size: 1.1rem; }
        .info-label { color: #777; font-weight: 600; }
        .info-val { text-align: right; color: #222; font-weight: 500;}

        #map { height: 300px; width: 100%; border-radius: 15px; margin-bottom: 15px; z-index: 1;}
        .taxi-btn { width: 100%; padding: 15px; background-color: var(--accent); color: white; border: none; border-radius: 15px; font-weight: bold; font-size: 1.1rem; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: 0.2s;}
        .taxi-btn:hover { filter: brightness(1.1); transform: scale(1.02); }

        /* [íƒì‹œ ëª¨ë‹¬] */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 999; display: flex; justify-content: center; align-items: center; }
        .taxi-card-modal { background: white; padding: 40px 20px; border-radius: 20px; width: 90%; max-width: 400px; text-align: center; animation: popUp 0.3s ease; }
        .taxi-card-title { font-size: 1.2rem; color: #666; margin-bottom: 20px; }
        .taxi-card-text { font-size: 2rem; font-weight: 900; color: #111; line-height: 1.4; word-break: keep-all; margin-bottom: 30px; border: 3px solid #111; padding: 20px; border-radius: 10px;}
        .taxi-close-btn { background: #333; color: white; border: none; padding: 12px 30px; border-radius: 30px; font-size: 1rem; cursor: pointer; }
        @keyframes popUp { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        /* [ë¦¬ë·°] */
        .review-input-area { display: flex; gap: 10px; margin-bottom: 25px; background: #f1f3f5; padding: 20px; border-radius: 15px; }
        .star-select { padding: 12px; border-radius: 10px; border: 1px solid #ddd; font-size: 1rem; cursor: pointer;}
        .comment-input { flex: 1; padding: 12px; border-radius: 10px; border: 1px solid #ddd; font-size: 1rem;}
        .post-btn { background: #333; color: white; border: none; padding: 0 25px; border-radius: 10px; cursor: pointer; font-weight: bold; transition: 0.2s;}
        .post-btn:hover { background: black; }
        .review-list { list-style: none; padding: 0; margin: 0; }
        .review-item { background: white; border-bottom: 1px solid #eee; padding: 20px 0; display: flex; flex-direction: column; }
        .r-header { display: flex; justify-content: space-between; margin-bottom: 8px; align-items: center;}
        .r-user { font-weight: bold; font-size: 1rem; color: #444; }
        .r-stars { color: #f1c40f; letter-spacing: 2px; }
        .r-text { font-size: 1rem; color: #555; line-height: 1.5; }
    </style>
</head>
<body>

    <div class="app-container">
        <div class="lang-bar">
            <button class="lang-btn active" onclick="setLang('en', this)">EN</button>
            <button class="lang-btn" onclick="setLang('kr', this)">KR</button>
            <button class="lang-btn" onclick="setLang('jp', this)">JP</button>
        </div>

        <div id="screen-home" class="screen">
            <h1 style="font-size: 5rem; font-weight:900; letter-spacing:-3px; margin-bottom: 20px;">Hidden Korea</h1>
            <p id="t-home-desc" style="font-size: 1.5rem; color:#666; text-align:center; margin-bottom: 60px;">Discover the real Korea.</p>
            <button class="btn-main" onclick="goScreen('job')" id="t-start">Start Journey ğŸš€</button>
        </div>

        <div id="screen-job" class="screen hidden">
            <h2 class="header-title" id="t-job-title">Select Your Class</h2>
            <p class="header-sub" id="t-job-sub">Choose your travel style</p>

            <div class="grid-box">
                <div class="card" onclick="selectClass('Druid')">
                    <span class="card-icon">ğŸƒ</span>
                    <span class="card-title" id="j1">The Druid</span><span class="card-desc" id="d1">Nature</span>
                </div>
                <div class="card" onclick="selectClass('Gourmet')">
                    <span class="card-icon">ğŸ½ï¸</span>
                    <span class="card-title" id="j2">Gourmet Hunter</span><span class="card-desc" id="d2">Food Trip</span>
                </div>
                <div class="card" onclick="alert('Coming Soon!')"><span class="card-icon">ğŸ“¸</span><span class="card-title" id="j3">The Bard</span><span class="card-desc" id="d3">Photo Spots</span></div>
                <div class="card" onclick="alert('Coming Soon!')"><span class="card-icon">ğŸ›ï¸</span><span class="card-title" id="j4">The Merchant</span><span class="card-desc" id="d4">Shopping</span></div>
                <div class="card" onclick="alert('Coming Soon!')"><span class="card-icon">ğŸŒŸ</span><span class="card-title" id="j5">Star Seeker</span><span class="card-desc" id="d5">K-Wave</span></div>
                <div class="card" onclick="alert('Coming Soon!')"><span class="card-icon">â›º</span><span class="card-title" id="j6">The Nomad</span><span class="card-desc" id="d6">Local Life</span></div>
            </div>
        </div>

        <div id="screen-food-map" class="screen hidden">
            <h2 class="header-title" id="t-map-title">Select Region</h2>
            <p class="header-sub" id="t-map-sub">Click on the map to explore!</p>

            <div class="korea-svg-container">
                <svg version="1.1" id="korea-map-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 540 840" style="enable-background:new 0 0 540 840;" xml:space="preserve">
                    <g id="regions">
                        <path id="path-gw" class="map-region fill-gw" d="M339.6,187.1l-7.2-10l-5.7,2.1l-8.2-6.7l-4.6,0.5l-11.8-7.7l1.5-9.3l-6.7-6.2l0.5-10.8l-5.1-4.1l3.6-14.9l-6.7-6.2l4.1-9.8l-5.1-9.3L302.5,91l7.7-17l13.9-1.5l14.4,10.8l7.2,2.6l9.3-3.6l7.7,3.1l8.2,14.4l-1.5,5.1l4.6,6.7l-5.7,11.3l6.2,13.4l-3.6,7.2l8.7,7.7l-5.1,18.5l7.7,14.9l-2.6,11.8l11.3,23.7l-5.7,7.7l10.8,13.9l-6.7,12.9l7.7,10.8l-4.1,8.2l4.1,6.2l-12.3,7.7l2.6,8.7l-7.7,5.1l3.6,10.3l-5.7,8.7l3.1,6.2l-12.3,9.8l-7.7-3.6l-11.3,9.8l-10.8-5.7l-9.3,4.6L293.9,312l-11.8-7.7l-0.5-6.2l-14.4-10.3l5.7-12.3l-4.1-8.7l9.3-11.3l11.3-1.5l7.2-14.4l12.9-7.7l-1.5-10.3L339.6,187.1z" onclick="loadDetail('Gangwon')"/>
                        <path id="path-gg" class="map-region fill-gg" d="M197.8,269.9l-8.7,3.6l-6.7-7.2l-8.7,3.6l-10.3-7.2l-9.3,2.6l-14.9-10.8l-5.1,5.7l-5.7-2.6l-5.1,5.1l-6.7-3.1l-6.2,5.7l-2.6-2.1l-7.2,7.7l-13.4-3.1l-5.1,3.6l0.5-5.7l8.2-9.3l-6.7-5.7l3.6-12.3l8.7-5.1l-1.5-8.2l8.2-5.7l2.1-13.4l6.7-7.2l-3.6-7.7l9.3-5.1l-3.6-9.8l6.7-3.6l-0.5-7.7l6.2-2.6l2.6-9.8l12.9,2.1l12.3-11.3l8.7,2.6l3.6-6.2l7.2-0.5l7.7,7.7l7.2-2.1l6.2,12.3l14.4,10.3l0.5,6.2l11.8,7.7l34.1,3.1l9.3-4.6l10.8,5.7l11.3-9.8l7.7,3.6l12.3-9.8l-3.1-6.2l5.7-8.7l-3.6-10.3l7.7-5.1l-2.6-8.7l12.3-7.7l-4.1-6.2l4.1-8.2l-7.7-10.8l6.7-12.9l-10.8-13.9l5.7-7.7l-11.3-23.7l2.6-11.8l-7.7-14.9l5.1-18.5l-8.7-7.7l3.6-7.2l-6.2-13.4l5.7-11.3l-4.6-6.7l1.5-5.1l-8.2-14.4l-7.7-3.1l-9.3,3.6l-7.2-2.6l-14.4-10.8l-13.9,1.5l-7.7,17l-14.4,4.6l5.1,9.3l-4.1,9.8l6.7,6.2l-3.6,14.9l5.1,4.1l-0.5,10.8l6.7,6.2l-1.5,9.3l11.8,7.7l4.6-0.5l8.2,6.7l5.7-2.1l7.2,10l-31.5,34.4l1.5,10.3l-12.9,7.7l-7.2,14.4l-11.3,1.5l-9.3,11.3l4.1,8.7l-5.7,12.3L197.8,269.9z M199.9,199.5l-5.7,4.6l-14.4-6.7l-2.6,14.9l11.3,11.8l12.9,3.6l8.2-9.3l-3.6-15.9L199.9,199.5z" onclick="loadDetail('Seoul')"/>
                        <path id="path-se" class="map-region fill-se" d="M199.9,199.5l6.2,3.1l3.6,15.9l-8.2,9.3l-12.9-3.6l-11.3-11.8l2.6-14.9l14.4,6.7L199.9,199.5z" onclick="loadDetail('Seoul')"/>
                        
                        <path id="path-cn" class="map-region fill-cn" d="M78.1,307.4l5.1,3.6l13.4-11.8l9.3,2.1l6.7-13.4l7.2,4.1l8.7-13.4l-2.6-2.1l6.2-5.7l6.7,3.1l5.1-5.1l5.7,2.6l5.1-5.7l14.9,10.8l9.3-2.6l10.3,7.2l8.7-3.6l6.7,7.2l8.7-3.6l10.8,8.7l5.7-3.6l2.6,8.7l11.3-0.5l-5.7,8.7l7.7,6.7l-5.1,9.3l11.3,5.7l2.6,11.8l-4.1,12.9l-6.7-1.5l-7.7,13.9l-12.3,7.7l2.1,12.9l-15.4,10.8l0.5,6.2l-8.2,4.1l-10.3-8.7l-7.7,10.8l-12.9,5.7l-3.6-5.1l-12.3,1.5l-4.1-6.7l-8.2,1.5l-3.6-7.7l-12.9,3.6l-7.7-9.8l-14.4,7.2l-5.1-4.6l-14.4,8.2l-4.1-12.3l7.2-7.7l-5.1-15.4l9.3-2.1l4.6-13.9l-13.9-4.6l2.6-11.8l-13.9,3.6l3.6-13.4l9.8,3.1l1.5-10.3L78.1,307.4z" onclick="loadDetail('Chungcheong')"/>
                        <path id="path-cb" class="map-region fill-cb" d="M282.1,416.9l-12.3-7.7l7.7-13.9l6.7,1.5l4.1-12.9l-2.6-11.8l-11.3-5.7l5.1-9.3l-7.7-6.7l5.7-8.7l-11.3,0.5l-2.6-8.7l-5.7,3.6l-10.8-8.7l8.7-16.4l34.1,3.1l9.3-4.6l10.8,5.7l11.3-9.8l7.7,3.6l12.3-9.8l-3.1-6.2l5.7-8.7l-3.6-10.3l7.7-5.1l-2.6-8.7l12.3-7.7l4.6,11.8l-9.8,11.3l5.7,11.8l-3.6,10.3l9.3,6.7l-4.6,17.5l10.8,6.2l1.5,8.7l-13.4,18.5l-9.8,2.6l-7.7,12.9l6.2,5.1l-3.6,13.4l-12.3-2.1l-9.8,11.8l-13.9-3.6l-5.1,13.9l-8.7-3.6l-9.8,11.3L282.1,416.9z" onclick="loadDetail('Chungcheong')"/>
                        
                        <path id="path-gb" class="map-region fill-gb" d="M409.1,456.5l-12.3,13.9l-9.8-3.1l-8.2,9.3l-13.9-3.1l-2.1-13.4l-7.2,2.6l-5.7-7.7l-9.8,1.5l-8.2-11.8l7.7-10.3l-7.7-14.4l-12.9,5.1l-7.2-10.3l-9.8,11.8l12.3,2.1l3.6-13.4l-6.2-5.1l7.7-12.9l9.8-2.6l13.4-18.5l-1.5-8.7l-10.8-6.2l4.6-17.5l-9.3-6.7l3.6-10.3l-5.7-11.8l9.8-11.3l-4.6-11.8l4.1,6.2l12.3-7.7l2.6,8.7l-7.7,5.1l3.6,10.3l-5.7,8.7l3.1,6.2l-12.3,9.8l-7.7-3.6l-11.3,9.8l-10.8-5.7l-9.3,4.6l-34.1-3.1l-11.8-7.7l-0.5-6.2l-14.4-10.3l-6.2-12.3l-7.2,2.1l-7.7-7.7l-7.2,0.5l-3.6,6.2l-8.7-2.6l-12.3,11.3l-12.9-2.1l-2.6,9.8l-6.2,2.6l0.5,7.7l-6.7,3.6l3.6,9.8l-9.3,5.1l3.6,7.7l-6.7,7.2l-2.1,13.4l-8.2,5.7l1.5,8.2l-8.7,5.1l-3.6,12.3l6.7,5.7l-8.2,9.3l-0.5,5.7l5.1-3.6l13.4,3.1l7.2-7.7l2.6,2.1l-8.7,16.4l10.8,8.7l5.7-3.6l2.6,8.7l11.3-0.5l-5.7,8.7l7.7,6.7l-5.1,9.3l11.3,5.7l2.6,11.8l-4.1,12.9l-6.7-1.5l-7.7,13.9l-12.3,7.7l2.1,12.9l-15.4,10.8l0.5,6.2l-8.2,4.1l-10.3-8.7l-7.7,10.8l-12.9,5.7l-3.6-5.1l-12.3,1.5l-4.1-6.7l-8.2,1.5l-3.6-7.7l-12.9,3.6l-7.7-9.8l-14.4,7.2l-5.1-4.6l-14.4,8.2l-4.1-12.3l7.2-7.7l-5.1-15.4l9.3-2.1l4.6-13.9l-13.9-4.6l2.6-11.8l-13.9,3.6l3.6-13.4l9.8,3.1l1.5-10.3l21.1-9.8l5.1,3.6l13.4-11.8l9.3,2.1l6.7-13.4l7.2,4.1l8.7-13.4l-2.6-2.1l6.2-5.7l6.7,3.1l5.1-5.1l5.7,2.6l5.1-5.7l14.9,10.8l9.3-2.6l10.3,7.2l8.7-3.6l6.7,7.2l8.7-3.6l10.8,8.7l5.7-3.6l2.6,8.7l11.3-0.5l-5.7,8.7l7.7,6.7l-5.1,9.3l11.3,5.7l2.6,11.8l-4.1,12.9l-6.7-1.5l-7.7,13.9l-12.3,7.7l2.1,12.9l-15.4,10.8l0.5,6.2l-8.2,4.1l-10.3-8.7l-7.7,10.8l-12.9,5.7l-3.6-5.1l-12.3,1.5l-4.1-6.7l-8.2,1.5l-3.6-7.7l-12.9,3.6l-7.7-9.8l-14.4,7.2l-5.1-4.6l-14.4,8.2l-4.1-12.3l7.2-7.7l-5.1-15.4l9.3-2.1l4.6-13.9l-13.9-4.6l2.6-11.8l-13.9,3.6l3.6-13.4l9.8,3.1l1.5-10.3l21.1-9.8l5.1,3.6l13.4-11.8l9.3,2.1l6.7-13.4l7.2,4.1l8.7-13.4L409.1,456.5z" onclick="loadDetail('Busan')"/>
                        
                        <path id="path-jb" class="map-region fill-jb" d="M120.8,501.2l-13.9,6.7l-10.3-9.8l-12.9,3.6l-9.3-11.8l-13.4,2.6l-2.6-13.4l-15.4,3.1l-6.7-7.7l11.8-12.3l-3.6-10.3l9.3-6.2l-6.7-16.4l12.3-9.8l-4.6-11.8l13.9-8.2l5.1,4.6l14.4-7.2l7.7,9.8l12.9-3.6l3.6,7.7l8.2-1.5l4.1,6.7l12.3-1.5l3.6,5.1l12.9-5.7l7.7-10.8l10.3,8.7l8.2-4.1l-0.5-6.2l15.4-10.8l-2.1-12.9l12.3-7.7l-0.5,18.5l9.8-11.3l8.7,3.6l5.1-13.9l13.9,3.6l7.2,10.3l12.9-5.1l7.7,14.4l-7.7,10.3l8.2,11.8l9.8-1.5l5.7,7.7l7.2-2.6l2.1,13.4l13.9,3.1l8.2-9.3l9.8,3.1l12.3-13.9l2.1,13.4l-6.2,8.7l7.7,10.8l-3.1,11.3l-9.3,6.7l5.1,11.3l-10.3,10.3l7.7,17l-15.9,13.9l-9.3-4.6l-8.2,9.3l-11.3-1.5l-4.6,12.9l-18.5,4.6l1.5,13.9l-8.7,3.1l-10.3-9.8l-9.8,4.6l-7.2-10.8l-12.3,6.7l-4.6-7.2l-8.2,3.6l-6.2-10.3l-10.8,2.6L120.8,501.2z" onclick="loadDetail('Jeolla')"/>
                        
                        <path id="path-gn" class="map-region fill-gn" d="M309.9,626.7l-1.5-13.9l18.5-4.6l4.6-12.9l11.3,1.5l8.2-9.3l9.3,4.6l15.9-13.9l-7.7-17l10.3-10.3l-5.1-11.3l9.3-6.7l3.1-11.3l-7.7-10.8l6.2-8.7l-2.1-13.4l18,15.9l14.4-4.6l11.3,10.8l-10.3,11.8l5.7,6.2l-13.4,22.1l18,15.4l13.4-4.6l6.2,9.3l-5.1,8.2l18,9.3l-6.7,25.7l-23.1-4.6l-4.6,14.4l-12.9-5.7l-5.7,8.2l-11.8-3.6l-4.6,13.4l-12.9,1.5l-4.1-11.3l-8.2-2.1l-11.3,9.8l-10.8-8.7l1.5-13.9l-9.3,2.6l-7.2-11.8l-8.2,4.6L309.9,626.7z" onclick="loadDetail('Busan')"/>
                        <path id="path-bs" class="map-region fill-bs" d="M422.1,656l5.1-8.2l-6.2-9.3l-13.4,4.6l-18-15.4l13.4-22.1l-5.7-6.2l10.3-11.8l-11.3-10.8l-14.4,4.6l-18-15.9l22.6,20.1l9.3,3.6l6.2,11.8l14.9-2.6l8.2,9.3l11.8-1.5l6.7,13.4l12.9,3.6l-3.6,13.4l5.7,5.1l-9.3,14.9L422.1,656z" onclick="loadDetail('Busan')"/>

                        <path id="path-jn" class="map-region fill-jn" d="M145,680.7l-14.4,8.7l2.1,10.3l-11.3,6.2l3.1,12.3l-25.2,14.9l-7.7-9.3l-7.2,5.1l-5.1-10.8l-9.8,2.6l-3.6-11.8l-8.7,3.1l-2.6-10.3l-12.9,4.6l-2.6-12.9l-8.7-2.1l4.1-18l-9.8-11.3l13.9-11.8l0.5-11.3l-11.3-7.7l8.7-10.3l-6.7-14.4l10.8-8.7l-2.1-8.2l9.3,1.5l6.7-11.3l9.3,4.1l10.8-2.6l6.2,10.3l8.2-3.6l4.6,7.2l12.3-6.7l7.2,10.8l9.8-4.6l10.3,9.8l8.7-3.1l8.2,4.6l7.2,11.8l9.3-2.6l-1.5,13.9l10.8,8.7l11.3-9.8l8.2,2.1l4.1,11.3l12.9-1.5l4.6-13.4l11.8,3.6l5.7-8.2l12.9,5.7l4.6-14.4l23.1,4.6l-7.7,30.3l-9.3,11.8l7.2,6.7l-23.1,4.1l-3.1,10.8l-24.2-1.5l-4.6,10.3l-10.8-5.7l-7.7,7.2l-11.3-6.7l-6.7,8.7l-13.4-4.1l-5.7,10.3l-16.4-11.8l-5.7,12.3l-8.7-7.7l-7.7,8.2l-10.3-11.8L145,680.7z" onclick="loadDetail('Jeolla')"/>
                        
                        <path id="path-jj" class="map-region fill-jj" d="M211.7,826.7l-21.1-6.2l-14.4,3.1l-10.3-8.7l5.1-13.4l12.3-4.6l18.5,3.1l20.1-7.7l14.4,6.2l10.8-3.1l11.3,8.7l-5.7,10.8l-14.4,5.7L211.7,826.7z" onclick="loadDetail('Jeju')"/>
                    </g>
                </svg>
            </div>

            <button onclick="goScreen('job')" style="margin-top:40px; padding: 12px 30px; background:none; border:2px solid #ddd; border-radius:30px; cursor:pointer; font-weight:bold; color:#777;">â¬… Back</button>
        </div>

        <div id="screen-detail" class="screen hidden">
            <div class="detail-container">
                <img src="" id="d-img" class="detail-header-img">
                <h2 class="header-title" id="d-title" style="margin-bottom:20px;">Title</h2>

                <div class="info-section">
                    <div class="info-title" id="t-info-title">ğŸ“‹ Travel Info & Budget</div>
                    <div class="info-row"><span class="info-label" id="l-food">Seasonal Food</span><span class="info-val" id="d-food">Food Name</span></div>
                    <div class="info-row"><span class="info-label" id="l-transport">Transport</span><span class="info-val" id="d-transport">KTX</span></div>
                    <div class="info-row"><span class="info-label" id="l-budget">Est. Budget</span><span class="info-val" id="d-budget">$150</span></div>
                </div>

                <div class="info-section">
                    <div class="info-title" id="t-map-sec">ğŸ“ Location & Taxi</div>
                    <div id="map"></div>
                    <button class="taxi-btn" onclick="showTaxiCard()">ğŸš• <span id="t-taxi-btn">Show Address to Driver</span></button>
                </div>

                <div class="info-section review-box">
                    <div class="info-title" id="t-review-title">â­ Traveler Reviews</div>
                    <div class="review-input-area">
                        <select id="r-star-input" class="star-select"><option value="5">â­â­â­â­â­</option><option value="4">â­â­â­â­</option><option value="3">â­â­â­</option></select>
                        <input type="text" id="r-text-input" class="comment-input" placeholder="Write a review...">
                        <button class="post-btn" onclick="addReview()">Post</button>
                    </div>
                    <ul id="review-list" class="review-list"></ul>
                </div>
                <button onclick="goScreen('food-map')" style="margin-top:30px; padding:15px 40px; border-radius:30px; border:1px solid #ccc; background:white; cursor:pointer; font-weight:bold; font-size: 1rem;">â¬… Back to Map</button>
            </div>
        </div>

        <div id="modal-taxi" class="modal-overlay hidden" onclick="closeTaxiCard(event)">
            <div class="taxi-card-modal">
                <div class="taxi-card-title">ğŸš• Show this to the driver</div>
                <div class="taxi-card-text" id="d-address-kr">ì£¼ì†Œ</div>
                <button class="taxi-close-btn" onclick="closeTaxiCard(null)">Close</button>
            </div>
        </div>

    </div>

    <script>
        let currentLang = 'en';
        let currentRegion = null;
        let currentClass = 'Gourmet';
        let map = null; let marker = null;

        const regionDB = {
            Jeolla: { 
                img: "https://images.unsplash.com/photo-1552604660-a8c4dde15b2e?auto=format&fit=crop&w=800&q=80",
                lat: 35.8147, lng: 127.1526, addr: "ê¸°ì‚¬ë‹˜,<br>ì „ì£¼ í•œì˜¥ë§ˆì„ë¡œ<br>ê°€ì£¼ì„¸ìš”.",
                en: { name:"Jeolla Province", food:"Cockle & Bibimbap", trans:"KTX (3h from Seoul)", bud:"$150 / person" },
                kr: { name:"ì „ë¼ë„ ë¯¸ì‹ì—¬í–‰", food:"ë²Œêµ ê¼¬ë§‰ & ì „ì£¼ ë¹„ë¹”ë°¥", trans:"KTX (ìš©ì‚°ì—­ ì¶œë°œ 3ì‹œê°„)", bud:"ì•½ 18ë§Œì› / 1ì¸" },
                jp: { name:"å…¨ç¾…é“", food:"ãƒã‚¤ã‚¬ã‚¤ & ãƒ“ãƒ“ãƒ³ãƒ", trans:"KTX (ã‚½ã‚¦ãƒ«ã‹ã‚‰3æ™‚é–“)", bud:"ç´„ 18,000å†† / 1äºº" },
                reviews: [{user: "Kim", star: 5, text: "The food is amazing!"}]
            },
            Seoul: {
                img: "https://images.unsplash.com/photo-1538485399081-7191377e8241?auto=format&fit=crop&w=800&q=80",
                lat: 37.5701, lng: 126.9997, addr: "ê¸°ì‚¬ë‹˜,<br>ê´‘ì¥ì‹œì¥ìœ¼ë¡œ<br>ê°€ì£¼ì„¸ìš”.",
                en: { name:"Seoul & Gyeonggi", food:"Street Food & Galbi", trans:"Subway & Bus", bud:"$80 / person" },
                kr: { name:"ì„œìš¸/ê²½ê¸° ë¯¸ì‹ì—¬í–‰", food:"ê´‘ì¥ì‹œì¥ & ìˆ˜ì› ì™•ê°ˆë¹„", trans:"ì§€í•˜ì²  ë° ë²„ìŠ¤", bud:"ì•½ 10ë§Œì› / 1ì¸" },
                jp: { name:"ã‚½ã‚¦ãƒ«/äº¬ç•¿é“", food:"å±‹å°æ–™ç† & ã‚«ãƒ«ãƒ“", trans:"åœ°ä¸‹é‰„ & ãƒã‚¹", bud:"ç´„ 10,000å†† / 1äºº" },
                reviews: [{user: "Lee", star: 5, text: "Night life is good."}]
            },
            Gangwon: {
                img: "https://images.unsplash.com/photo-1528659103852-5c2c7c5952d7?auto=format&fit=crop&w=800&q=80",
                lat: 37.8813, lng: 127.7298, addr: "ê¸°ì‚¬ë‹˜,<br>ì¶˜ì²œ ë‹­ê°ˆë¹„ ê³¨ëª©ìœ¼ë¡œ<br>ê°€ì£¼ì„¸ìš”.",
                en: { name:"Gangwon Province", food:"Spicy Chicken (Dakgalbi)", trans:"ITX Train", bud:"$100 / person" },
                kr: { name:"ê°•ì›ë„ ë¯¸ì‹ì—¬í–‰", food:"ì¶˜ì²œ ë‹­ê°ˆë¹„ & ë§‰êµ­ìˆ˜", trans:"ITX ì²­ì¶˜ì—´ì°¨", bud:"ì•½ 12ë§Œì› / 1ì¸" },
                jp: { name:"æ±ŸåŸé“", food:"ã‚¿ãƒƒã‚«ãƒ«ãƒ“", trans:"ITX åˆ—è»Š", bud:"ç´„ 12,000å†† / 1äºº" },
                reviews: [{user: "Park", star: 4, text: "Spicy but delicious."}]
            },
            Chungcheong: {
                img: "https://images.unsplash.com/photo-1613568770467-33f7c35f2991?auto=format&fit=crop&w=800&q=80",
                lat: 36.6350, lng: 127.4914, addr: "ê¸°ì‚¬ë‹˜,<br>ì„±ì‹¬ë‹¹ ë¹µì§‘ìœ¼ë¡œ<br>ê°€ì£¼ì„¸ìš”.",
                en: { name:"Chungcheong", food:"Walnut Cookie & Bread", trans:"Bus / KTX", bud:"$90 / person" },
                kr: { name:"ì¶©ì²­ë„ ë¯¸ì‹ì—¬í–‰", food:"í˜¸ë‘ê³¼ì & ì„±ì‹¬ë‹¹ ë¹µ", trans:"ê³ ì†ë²„ìŠ¤ / KTX", bud:"ì•½ 11ë§Œì› / 1ì¸" },
                jp: { name:"å¿ æ¸…é“", food:"ãã‚‹ã¿é¥…é ­ & ãƒ‘ãƒ³", trans:"ãƒã‚¹ / KTX", bud:"ç´„ 11,000å†† / 1äºº" },
                reviews: [{user: "Choi", star: 5, text: "Bread is famous here."}]
            },
            Busan: {
                img: "https://images.unsplash.com/photo-1629814467204-511598f80459?auto=format&fit=crop&w=800&q=80",
                lat: 35.1554, lng: 129.0594, addr: "ê¸°ì‚¬ë‹˜,<br>ì„œë©´ êµ­ë°¥ê³¨ëª©ìœ¼ë¡œ<br>ê°€ì£¼ì„¸ìš”.",
                en: { name:"Busan & Gyeongsang", food:"Pork Soup & Seafood", trans:"KTX (2.5h)", bud:"$130 / person" },
                kr: { name:"ë¶€ì‚°/ê²½ìƒë„ ë¯¸ì‹ì—¬í–‰", food:"ë¼ì§€êµ­ë°¥ & íšŒ", trans:"KTX (ì„œìš¸ì—ì„œ 2.5ì‹œê°„)", bud:"ì•½ 16ë§Œì› / 1ì¸" },
                jp: { name:"é‡œå±± & æ…¶å°šé“", food:"ãƒ‡ã‚¸ã‚¯ãƒƒãƒ‘ & åˆºèº«", trans:"KTX (2.5æ™‚é–“)", bud:"ç´„ 16,000å†† / 1äºº" },
                reviews: [{user: "Sato", star: 5, text: "Fresh seafood!"}]
            },
            Jeju: {
                img: "https://images.unsplash.com/photo-1534994236353-8d99883de08d?auto=format&fit=crop&w=800&q=80",
                lat: 33.4996, lng: 126.5312, addr: "ê¸°ì‚¬ë‹˜,<br>í‘ë¼ì§€ ê±°ë¦¬ë¡œ<br>ê°€ì£¼ì„¸ìš”.",
                en: { name:"Jeju Island", food:"Black Pork BBQ", trans:"Airplane", bud:"$200 / person" },
                kr: { name:"ì œì£¼ë„ ë¯¸ì‹ì—¬í–‰", food:"í‘ë¼ì§€ êµ¬ì´ & ê°ˆì¹˜ì¡°ë¦¼", trans:"ë¹„í–‰ê¸°", bud:"ì•½ 25ë§Œì› / 1ì¸" },
                jp: { name:"æ¸ˆå·å³¶", food:"é»’è±šç„¼è‚‰", trans:"é£›è¡Œæ©Ÿ", bud:"ç´„ 25,000å†† / 1äºº" },
                reviews: [{user: "Wang", star: 5, text: "Beautiful island."}]
            }
        };

        const uiDB = {
            en: { home:"Discover the real Korea.", start:"Start Journey ğŸš€", jobT:"Select Your Class", jobS:"Choose your travel style", 
                  mapT:"Select Region", mapS:"Click on the map to explore!", infoT:"ğŸ“‹ Travel Info & Budget", revT:"â­ Traveler Reviews",
                  l_food:"Seasonal Food", l_trans:"Transport", l_bud:"Budget", place:"Write a review...",
                  j1:"The Druid", d1:"Nature", j2:"Gourmet Hunter", d2:"Food Trip", j3:"The Bard", d3:"Photo Spots", j4:"The Merchant", d4:"Shopping", j5:"Star Seeker", d5:"K-Wave", j6:"The Nomad", d6:"Local Life",
                  loc:"ğŸ“ Location & Taxi", taxi:"Show Address to Driver" },
            kr: { home:"ë‹¹ì‹ ë§Œ ëª¨ë¥´ëŠ” ì§„ì§œ í•œêµ­.", start:"ì—¬í–‰ ì‹œì‘í•˜ê¸° ğŸš€", jobT:"ì—¬í–‰ ì§ì—… ì„ íƒ", jobS:"ë‹¹ì‹ ì˜ ì—¬í–‰ ìŠ¤íƒ€ì¼ì€?", 
                  mapT:"ì§€ì—­ ì„ íƒ", mapS:"ì§€ë„ë¥¼ í´ë¦­í•´ì„œ íƒí—˜ì„ ì‹œì‘í•˜ì„¸ìš”!", infoT:"ğŸ“‹ ì—¬í–‰ ì •ë³´ ë° ê²½ë¹„", revT:"â­ ì—¬í–‰ì ì‹¤ì‹œê°„ ë¦¬ë·°",
                  l_food:"ì œì²  ìŒì‹", l_trans:"êµí†µí¸", l_bud:"ì˜ˆìƒ ê²½ë¹„", place:"í›„ê¸°ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”...",
                  j1:"ë” ë“œë£¨ì´ë“œ", d1:"ìˆ¨ê²¨ì§„ ìì—°", j2:"ê³ ë©” í—Œí„°", d2:"ì œì²  ë¯¸ì‹ ì—¬í–‰", j3:"ë” ë°”ë“œ", d3:"ì¸ìƒìƒ· ëª…ì†Œ", j4:"ë” ë¨¸ì²œíŠ¸", d4:"ì‡¼í•‘ & êµ¿ì¦ˆ", j5:"ìŠ¤íƒ€ ì‹œì»¤", d5:"í•œë¥˜ ì„±ì§€ìˆœë¡€", j6:"ë” ë…¸ë§ˆë“œ", d6:"í˜„ì§€ì¸ ì²´í—˜",
                  loc:"ğŸ“ ìœ„ì¹˜ ë° íƒì‹œ ì£¼ì†Œ", taxi:"íƒì‹œ ê¸°ì‚¬ë‹˜ê»˜ ì£¼ì†Œ ë³´ì—¬ì£¼ê¸°" },
            jp: { home:"ã‚ãªãŸã ã‘ãŒçŸ¥ã‚‰ãªã„éŸ“å›½ã€‚", start:"æ—…ã‚’å§‹ã‚ã‚‹ ğŸš€", jobT:"ã‚¯ãƒ©ã‚¹é¸æŠ", jobS:"æ—…è¡Œã‚¹ã‚¿ã‚¤ãƒ«ã¯ï¼Ÿ", 
                  mapT:"åœ°åŸŸé¸æŠ", mapS:"åœ°å›³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦æ¢ç´¢ï¼", infoT:"ğŸ“‹ æ—…è¡Œæƒ…å ± & äºˆç®—", revT:"â­ æ—…è¡Œè€…ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼",
                  l_food:"æ—¬ã®é£Ÿã¹ç‰©", l_trans:"äº¤é€šæ‰‹æ®µ", l_bud:"äºˆç®—", place:"ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’æ›¸ã„ã¦...",
                  j1:"ãƒ‰ãƒ«ã‚¤ãƒ‰", d1:"éš ã‚ŒãŸè‡ªç„¶", j2:"ã‚°ãƒ«ãƒ¡ãƒãƒ³ã‚¿ãƒ¼", d2:"æ—¬ã®ç¾é£Ÿã®æ—…", j3:"ãƒãƒ¼ãƒ‰", d3:"æ˜ ãˆã‚¹ãƒãƒƒãƒˆ", j4:"ãƒãƒ¼ãƒãƒ£ãƒ³ãƒˆ", d4:"ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°", j5:"ã‚¹ã‚¿ãƒ¼ã‚·ãƒ¼ã‚«ãƒ¼", d5:"K-POPè–åœ°", j6:"ãƒãƒãƒ‰", d6:"ç¾åœ°ä½“é¨“",
                  loc:"ğŸ“ ä½ç½®æƒ…å ± & ã‚¿ã‚¯ã‚·ãƒ¼", taxi:"ã‚¿ã‚¯ã‚·ãƒ¼é‹è»¢æ‰‹ã«è¦‹ã›ã‚‹" }
        };

        function selectClass(className) {
            currentClass = className;
            const root = document.documentElement;
            if(className === 'Druid') { root.style.setProperty('--accent', '#27ae60'); } 
            else { root.style.setProperty('--accent', '#d32f2f'); }
            goScreen('food-map');
        }

        function goScreen(screenName) {
            document.querySelectorAll('.screen').forEach(s => s.classList.add('hidden'));
            document.getElementById(`screen-${screenName}`).classList.remove('hidden');
            window.scrollTo(0,0);
            if(screenName === 'detail' && map) setTimeout(() => { map.invalidateSize(); }, 200);
        }

        function setLang(lang, btn) {
            currentLang = lang;
            document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            
            const t = uiDB[lang];
            document.getElementById('t-home-desc').innerText = t.home;
            document.getElementById('t-start').innerText = t.start;
            document.getElementById('t-job-title').innerText = t.jobT;
            document.getElementById('t-job-sub').innerText = t.jobS;
            document.getElementById('t-map-title').innerText = t.mapT;
            document.getElementById('t-map-sub').innerText = t.mapS;
            document.getElementById('t-info-title').innerText = t.infoT;
            document.getElementById('t-review-title').innerText = t.revT;
            document.getElementById('l-food').innerText = t.l_food;
            document.getElementById('l-transport').innerText = t.l_trans;
            document.getElementById('l-budget').innerText = t.l_bud;
            document.getElementById('r-text-input').placeholder = t.place;
            document.getElementById('t-map-sec').innerText = t.loc;
            document.getElementById('t-taxi-btn').innerText = t.taxi;

            for(let i=1; i<=6; i++) {
                if(document.getElementById(`j${i}`)) document.getElementById(`j${i}`).innerText = t[`j${i}`];
                if(document.getElementById(`d${i}`)) document.getElementById(`d${i}`).innerText = t[`d${i}`];
            }

            if(currentRegion && !document.getElementById('screen-detail').classList.contains('hidden')) {
                const rData = regionDB[currentRegion][lang];
                if(rData) {
                    document.getElementById('d-title').innerText = rData.name;
                    document.getElementById('d-food').innerText = rData.food;
                    document.getElementById('d-transport').innerText = rData.trans;
                    document.getElementById('d-budget').innerText = rData.bud;
                }
            }
        }

        function loadDetail(regionName) {
            currentRegion = regionName;
            const data = regionDB[regionName];
            const t = data[currentLang];
            document.getElementById('d-img').src = data.img;
            document.getElementById('d-title').innerText = t.name;
            document.getElementById('d-food').innerText = t.food;
            document.getElementById('d-transport').innerText = t.trans;
            document.getElementById('d-budget').innerText = t.bud;
            document.getElementById('d-address-kr').innerHTML = data.addr;
            const list = document.getElementById('review-list');
            list.innerHTML = ""; 
            data.reviews.forEach(r => {
                const li = document.createElement('li');
                li.className = 'review-item';
                let stars = "";
                for(let i=0; i<r.star; i++) stars += "â˜…";
                li.innerHTML = `<div class="r-header"><span class="r-user">ğŸ‘¤ ${r.user}</span><span class="r-stars">${stars}</span></div><span class="r-text">${r.text}</span>`;
                list.appendChild(li);
            });
            goScreen('detail');
            if (!map) {
                map = L.map('map').setView([data.lat, data.lng], 14);
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: 'Â© OpenStreetMap contributors' }).addTo(map);
            } else { map.setView([data.lat, data.lng], 14); }
            if (marker) { map.removeLayer(marker); }
            marker = L.marker([data.lat, data.lng]).addTo(map).bindPopup("<b>" + t.name + "</b>").openPopup();
        }

        function showTaxiCard() { document.getElementById('modal-taxi').classList.remove('hidden'); }
        function closeTaxiCard(event) { if(event === null || event.target.id === 'modal-taxi') document.getElementById('modal-taxi').classList.add('hidden'); }
        function addReview() {
            const input = document.getElementById('r-text-input');
            const starSelect = document.getElementById('r-star-input');
            const text = input.value;
            if(text === "") { alert("Please write a review!"); return; }
            const list = document.getElementById('review-list');
            const li = document.createElement('li');
            li.className = 'review-item';
            let stars = "";
            for(let i=0; i<starSelect.value; i++) stars += "â˜…";
            li.innerHTML = `<div class="r-header"><span class="r-user">ğŸ‘¤ Me (Just Now)</span><span class="r-stars">${stars}</span></div><span class="r-text">${text}</span>`;
            list.insertBefore(li, list.firstChild);
            input.value = "";
            alert("Review Posted!");
        }
    </script>
</body>
</html>